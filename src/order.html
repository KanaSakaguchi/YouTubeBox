<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <base target="_top">
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
  </head>
  <body>
    <div id="app" @submit.prevent>
      <el-container>
        <el-header>
          <h1>YouTube Box</h1>
        </el-header>
        <el-main>
          <section>
            <h2>Order</h2>
            <el-form label-width="0" ref="searchForm" :model="searchForm">
              <el-form-item class="inputKeyword" label="" prop="keyword">
                <el-input v-model="searchForm.keyword">
                  <el-button
                      slot="append"
                      native-type="submit"
                      icon="el-icon-search"
                      @click="search">
                  </el-button>
                </el-input>
              </el-form-item>
            </el-form>
          </section>
        </el-main>
      </el-container>
    </div>

    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script>
      new Vue({
        el: '#app',
        data() {
          return {
            searchForm: {
              keyword: ''
            }
          }
        },
        methods: {
          search() {
            google.script.run
              .withSuccessHandler(this.setSearchResult)
              .search(this.searchForm.keyword)
          },
          setSearchResult(searchResult) {
            console.log(searchResult)
          }
        }
      })
    </script>
  </body>
</html>
